\documentclass[a4paper,titlepage,10pt]{article}

\usepackage[utf8]{inputenc}
\usepackage[hungarian]{babel}
\usepackage[T1]{fontenc}
\usepackage{pslatex}
\usepackage{hyperref}
\usepackage{makeidx}
\usepackage{letterspace}
\usepackage{graphicx}
\usepackage{float}
\usepackage{subfig}

\usepackage{listings}
\lstset{
texcl=true,
captionpos=b,
basicstyle=\small\ttfamily\color{red},
identifierstyle=\color{black},
keywordstyle=\color{blue},
columns=fixed, basewidth={0.42em, 0.38em},
showlines=true,
escapeinside={/*@}{@*/},
nolol=true,
numbers=left,
numberstyle=\scriptsize,
framexleftmargin=5mm
}

\renewcommand\lstlistingname{Kódrészlet}
\renewcommand\lstlistlistingname{Kódrészletek jegyzéke}
\newcommand\lstref[1]{\ref{#1}. \MakeLowercase{\lstlistingname}}

\usepackage[a4paper]{geometry}
\geometry{verbose, tmargin=2.0cm, bmargin=2.0cm, lmargin=2.0cm, rmargin=2.0cm}

%for highlighted code examples
\usepackage[usenames, dvipsnames]{color}

\usepackage[toc, page]{appendix}

\title{Helló Window! - GTK+/gtkmm programozás GNU/Linux alatt}
\author{Pfeiffer Szilárd}
\date{\today}

\makeindex

\begin{document}

\newcommand{\lstinputsources}[5][numbers=left]{
\medskip
\noindent
\begin{minipage}{\linewidth}
\begin{center}
\makebox[\linewidth]{
\makebox[5mm]{}
\lstinputlisting[language=C, #1]{#2}
\makebox[10mm]{}
\lstinputlisting[language=C++, #1]{#3}
}
\lstinputlisting[nolol=false, showlines=false, caption={#4}, label=#5]{sources/null}
\end{center}
\end{minipage}
}

\newcommand{\lstinputsource}[4][]{
\medskip
\noindent
\begin{minipage}{\linewidth}
\begin{center}
\makebox[\linewidth]{
\lstinputlisting[numbers=none, #1]{#2}
}
\lstinputlisting[nolol=false, showlines=false, caption={#3}, label=#4]{sources/null}
\end{center}
\end{minipage}
}

\newcommand{\lstinputsourcesappendix}[5][]{
\noindent
\begin{center}
\begin{minipage}[t][\height][l]{0.57\linewidth}
\lstinputlisting[numbers=none, #1]{#2}
\end{minipage}
\begin{minipage}[t][\height][r]{0.39\linewidth}
\lstinputlisting[numbers=none, #1]{#3}
\end{minipage}
\lstinputlisting[nolol=false, showlines=false, caption={#4}, label=#5]{sources/null}
\end{center}
}

\pagenumbering{roman}

\begin{titlepage}

\maketitle

\begin{abstract}
A \textit{GTK+} (\textit{GIMP Toolkit}) egy \textit{C} nyelven -- ám objektum-orientált megközelítéssel -- íródott, grafikus felhasználói felületek (\textit{GUI}) létrehozására használatos alkalmazás-programozási interfész. A \textit{gtkmm} nem más, mint ennek a függvénykönyvtárnak a \textit{C++} változata, pontosabban fogalmazva \textit{wrapper}e. Mindkét függvénykönyvtár terjesztése \textit{LGPL} licenc alatt történik, így bátran felhasználható mind szabad/ingyenes, mind kereskedelmi szoftverek létrehozására.

A most kezdődő sorozat célja az abszolút kezdetektől indulva bemutatni a \textit{GTK+} és a \textit{gtkmm} hasonlóságait, különbözőségeit, sajátosságait eljutva egy olyan szintre, ahol remélhetőleg a több éves tapasztalattal rendelkező fejlesztők is találnak hasznos, megfontolásra érdemes ötleteket, információkat.
\end{abstract}

\tableofcontents

\end{titlepage}

\pagenumbering{arabic}

\input{windows}

\newpage
\appendix
\addcontentsline{toc}{section}{Függelék}

\lstset{columns=fixed, basewidth={0.40em, 0.38em}}

\section{\textit{Window} \texttt{delete-event} eseményének blokkolása származtatással}

\lstinputsourcesappendix
[language=C]
{sources/mywindow.hpp}
{sources/mywindow.cc}
{\textit{Window} \texttt{delete-event} eseményének blokkolása származtatással \textit{GTK+} esetén}
{lst:mywindowgtkmm}

\lstinputsourcesappendix
[language=C++]
{sources/mywindow.h}
{sources/mywindow.c}
{\textit{Window} \texttt{delete-event} eseményének blokkolása származtatással \textit{gtkmm} esetén}
{lst:mywindowgtk}

\newpage
\addcontentsline{toc}{section}{Ábrák jegyzéke}
\listoffigures

\newpage
\addcontentsline{toc}{section}{\lstlistlistingname}
\lstlistoflistings

\newpage
\addcontentsline{toc}{section}{Tárgymutató}
\printindex

\nocite{gtktut}
\nocite{gtkmmtut}
\nocite{ggad}
\nocite{gtktutmagy}

\addcontentsline{toc}{section}{Hivatkozások}
\bibliography{windows}
\bibliographystyle{plain}

\end{document}
